{
  "version": 3,
  "sources": ["../../@tiptap-pro/extension-import-docx/dist/index.js"],
  "sourcesContent": ["import{Extension as g}from\"@tiptap/core\";function l({json:t,validMarks:i,validNodes:r,options:a,rewrittenContent:e=[]}){return t.marks&&Array.isArray(t.marks)&&(t.marks=t.marks.filter(o=>{let p=typeof o==\"string\"?o:o.type;return i.has(p)?!0:(e.push({original:JSON.parse(JSON.stringify(t)),unsupported:p}),!1)})),t.content&&Array.isArray(t.content)&&(t.content=t.content.map(o=>l({json:o,validMarks:i,validNodes:r,options:a,rewrittenContent:e}).json).filter(o=>o!=null)),t.type&&!r.has(t.type)?t.content&&Array.isArray(t.content)?(e.push({original:JSON.parse(JSON.stringify(t)),unsupported:t.type}),t.type=\"paragraph\",{json:t,rewrittenContent:e}):{json:null,rewrittenContent:e}:{json:t,rewrittenContent:e}}function c(t,i,r){return l({json:t,validNodes:new Set(Object.keys(i.nodes)),validMarks:new Set(Object.keys(i.marks)),options:r})}var u=\"https://api.tiptap.dev/v2/convert\",f=g.create({name:\"import-docx\",addOptions(){return{endpoint:u,token:\"\",appId:\"\",imageUploadCallbackUrl:void 0,verbose:0}},addCommands(){return{importDocx:t=>()=>{let{file:i}=t,{onImport:r}=t,e=`${this.options.endpoint||u}/import`,o=new FormData;o.append(\"file\",i),this.options.imageUploadCallbackUrl&&o.append(\"imageUploadCallbackUrl\",this.options.imageUploadCallbackUrl),this.options.prosemirrorNodes&&o.append(\"prosemirrorNodes\",JSON.stringify(this.options.prosemirrorNodes)),this.options.prosemirrorMarks&&o.append(\"prosemirrorMarks\",JSON.stringify(this.options.prosemirrorMarks)),this.options.verbose&&o.append(\"verbose\",this.options.verbose.toString());let p=new URL(e);return fetch(p.href,{method:\"POST\",body:o,headers:{Authorization:`Bearer ${this.options.token}`,\"X-App-Id\":this.options.appId,\"X-Tiptap-Extension\":\"import-docx\"}}).then(n=>{if(!n.ok)throw new Error(n.statusText);return n.json()}).then(n=>{let d=(h=n.data.content)=>{try{let{json:s,rewrittenContent:m}=c(h,this.editor.schema);m.length&&process.env.NODE_ENV===\"development\"&&console.warn(\"Unknown content was found and replaced:\",m),this.editor.commands.setContent(s)}catch(s){throw console.error(s),s}};return r?r({content:n.data.content,logs:n.logs,error:null,setEditorContent:d}):d()}).catch(n=>{if(r)r({content:null,error:n});else throw n}),!0}}}});var w=f;export{f as ImportDocx,w as default};\n"],
  "mappings": "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",
  "names": []
}
